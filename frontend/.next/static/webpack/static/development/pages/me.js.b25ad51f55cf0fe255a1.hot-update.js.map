{"version":3,"file":"static/webpack/static\\development\\pages\\me.js.b25ad51f55cf0fe255a1.hot-update.js","sources":["webpack:///./components/Account.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport Link from \"next/link\";\r\nimport User from \"./User\";\r\nimport { USER_ORDERS_QUERY } from \"./OrderList\";\r\nimport AccountStyles from \"./styles/AccountStyles\";\r\nimport SickButton from \"./styles/SickButton\";\r\n\r\nexport default class Account extends Component {\r\n  render() {\r\n    return (\r\n      <User>\r\n        {({ data: { me }, loading, error }) => {\r\n          if (loading) return <p>Loading...</p>;\r\n          if (error) return <Error error={error} />;\r\n          return (\r\n            <Query query={USER_ORDERS_QUERY}>\r\n              {({ data: { orders }, loading, error }) => {\r\n                if (loading) return <p>Loading...</p>;\r\n                if (error) return <Error error={error} />;\r\n                return (\r\n                  <AccountStyles>\r\n                    <h3>Hi, {me.name}</h3>\r\n                    <div className=\"permissions-block\">\r\n                      <p key={me.permissions}>\r\n                        Your Permission{me.permissions.length === 1 ? \"\" : \"s\"}:{\" \"}\r\n                        {me.permissions.map(\r\n                          permission => `|  ${permission}  |`\r\n                        )}\r\n                      </p>\r\n                      {me.permissions.some(permission =>\r\n                        [\"ADMIN\", \"PERMISSIONUPDATE\"].includes(permission)\r\n                      ) && (\r\n                        <SickButton>\r\n                          <Link\r\n                            href={{\r\n                              pathname: \"/permissions\"\r\n                            }}\r\n                          >\r\n                            <a>Manage Permissions of Users</a>\r\n                          </Link>\r\n                        </SickButton>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"orders-block\">\r\n                      {orders.length > 0 && (\r\n                        <>\r\n                          <p>\r\n                            You have already {orders.length} order\r\n                            {orders.length === 1 ? \"\" : \"s\"}!\r\n                          </p>\r\n                          <SickButton>\r\n                            <Link\r\n                              href={{\r\n                                pathname: \"/orders\"\r\n                              }}\r\n                            >\r\n                              <a>Check your previous Orders</a>\r\n                            </Link>\r\n                          </SickButton>\r\n                        </>\r\n                      )}\r\n                      {orders.length === 0 && (\r\n                        <>\r\n                          <p>You don't have orders yet...</p>\r\n                          <SickButton>\r\n                            <Link\r\n                              href={{\r\n                                pathname: \"/shop\"\r\n                              }}\r\n                            >\r\n                              <a>Let's Buy cool wheels for yor Car!</a>\r\n                            </Link>\r\n                          </SickButton>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"mail-block\">\r\n                      <p>Your current Email: {me.email}</p>\r\n                    </div>\r\n                  </AccountStyles>\r\n                );\r\n              }}\r\n            </Query>\r\n          );\r\n        }}\r\n      </User>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AADA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;AAGA;;;;AAhFA;AACA;;;;;A","sourceRoot":""}